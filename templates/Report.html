{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Medical Report</title>

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"/>
  <!-- Font Awesome Icons -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet"/>
  <!-- Custom Report CSS (for navbar & any overrides) -->
  <link href="{% static 'Dashboard.css' %}" rel="stylesheet"/>
</head>
<body class="bg-light">

  <!-- Vertical Navbar (unchanged) -->
  <div class="vertical-navbar">
    <div class="logo-section">
      <a href="/">
        <div class="ms-4 me-4">
          <img src="/static/logo2.jpg" alt="Medical Logo" class="icon"/>
        </div>
        <h4>Health Report</h4>
      </a>
    </div>
    <hr/>
    <ul class="nav flex-column" id="navbar">
      <li class="nav-item"><a class="nav-link" href="/"><i class="fas fa-home"></i> Home</a></li>
      <li class="nav-item"><a class="nav-link" href="/Dashboard/"><i class="fas fa-tachometer-alt"></i> Dashboard</a></li>
      <li class="nav-item"><a class="nav-link" href="/Disease_Prediction/"><i class="fas fa-diagnoses"></i> Disease Prediction</a></li>
      <li class="nav-item"><a class="nav-link active" href="/Report/"><i class="fas fa-file-alt"></i> Report Generation</a></li>
      <li class="nav-item"><a class="nav-link" href="/Blogs/"><i class="fas fa-blog"></i> Health Blogs</a></li>
      <hr/>
      <li class="nav-item"><a class="nav-link" href="/Profile_Management/"><i class="fas fa-user-circle"></i> Profile Management</a></li>
      <li class="nav-item"><a class="nav-link" href="/User_Data/"><i class="fas fa-database"></i> User Data</a></li>
      <li class="nav-item"><a class="nav-link" href="/chatbot/"><i class="fas fa-comments"></i> Chatbot</a></li>
      <li class="nav-item"><a class="nav-link" href="/Logout/"><i class="fas fa-sign-out-alt"></i> Logout</a></li>

    </ul>
  </div>
  <!-- Main Content Area -->
  <div class="content-container" id="report-content">
    <div class="container py-5">
      <h1 class="text-center text-primary mb-5"><i class="fas fa-file-medical-alt me-2"></i>Medical Report</h1>

      {% if error %}
        <div class="alert alert-warning">{{ error }}</div>
      {% else %}
<!-- Download PDF Button -->
      <div class="text-center mb-5">
        <form method="POST" action="{% url 'pdf_report' %}">
          {% csrf_token %}
          <button type="submit" class="btn btn-lg btn-primary">
            <i class="fas fa-download me-2"></i>Download PDF
          </button>
        </form>
      </div>
      <!-- Patient Information Card -->
      <div class="card shadow-lg mb-4">
        <div class="card-body">
          <h5 class="card-title text-secondary mb-4"><i class="fas fa-user me-1"></i>Patient Information</h5>
          <div class="row g-3">
            <div class="col-md-4">
              <label class="form-label">Full Name</label>
              <input type="text" class="form-control" value="{{ full_name }}" readonly>
            </div>
            <div class="col-md-2">
              <label class="form-label">Age</label>
              <input type="text" class="form-control" value="{{ age }} yrs" readonly>
            </div>
            <div class="col-md-2">
              <label class="form-label">Gender</label>
              <input type="text" class="form-control" value="{{ gender }}" readonly>
            </div>
            <div class="col-md-2">
              <label class="form-label">Patient ID</label>
              <input type="text" class="form-control" value="{{ patient_id }}" readonly>
            </div>
            <div class="col-md-2">
              <label class="form-label">Report ID</label>
              <input type="text" class="form-control" value="{{ report_id }}" readonly>
            </div>
          </div>
          <div class="text-end text-muted mt-2"><small><i class="fas fa-clock me-1"></i>{{ timestamp }}</small></div>
        </div>
      </div>

      <!-- Symptom Details Card -->
      <div class="card shadow-sm mb-4">
        <div class="card-body">
          <h5 class="text-secondary mb-3"><i class="fas fa-notes-medical me-1"></i>Symptom Details</h5>
          {% for sym in symptoms %}
            <span class="badge bg-info text-dark me-1 mb-1">{{ sym }}</span>
          {% endfor %}
        </div>
      </div>

      <!-- Diagnosis Card -->
      <div class="card shadow-sm mb-4 border-primary">
        <div class="card-body">
          <h5 class="text-secondary mb-3"><i class="fas fa-stethoscope me-1"></i>Diagnosis</h5>
          <div class="alert alert-primary mb-0"><strong>{{ pred }}</strong></div>
        </div>
      </div>

      <!-- Description Card -->
      <div class="card shadow-sm mb-4">
        <div class="card-body">
          <h5 class="text-secondary mb-3"><i class="fas fa-align-left me-1"></i>Description</h5>
          <p class="mb-0">{{ dis_des }}</p>
        </div>
      </div>

      <!-- Recommendations Card -->
      <div class="card shadow-lg mb-4">
        <div class="card-body">
          <h5 class="text-secondary mb-4"><i class="fas fa-check-circle me-1"></i>Recommendations</h5>
          <div class="row g-3">
            <div class="col-md-6">
              <h6 class="text-warning"><i class="fas fa-exclamation-triangle me-1"></i>Precautions</h6>
              <ul class="list-group list-group-flush">
                {% for item in dis_pre %}
                  <li class="list-group-item">{{ item }}</li>
                {% endfor %}
              </ul>
            </div>
            <div class="col-md-6">
              <h6 class="text-danger"><i class="fas fa-pills me-1"></i>Medications</h6>
              <ul class="list-group list-group-flush">
                {% for item in dis_med %}
                  <li class="list-group-item">{{ item }}</li>
                {% endfor %}
              </ul>
            </div>
            <div class="col-md-6">
              <h6 class="text-success"><i class="fas fa-utensils me-1"></i>Diet</h6>
              <ul class="list-group list-group-flush">
                {% for item in dis_diet %}
                  <li class="list-group-item">{{ item }}</li>
                {% endfor %}
              </ul>
            </div>
            <div class="col-md-6">
              <h6 class="text-secondary"><i class="fas fa-dumbbell me-1"></i>Workouts</h6>
              <ul class="list-group list-group-flush">
                {% for item in dis_workout %}
                  <li class="list-group-item">{{ item }}</li>
                {% endfor %}
              </ul>
            </div>
          </div>
        </div>
      </div>

      

      {% endif %}
    </div>
  </div>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
